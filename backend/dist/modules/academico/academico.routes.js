import { Router } from 'express';
import { authenticate } from '@middleware/auth.middleware';
import { requirePermission } from '@middleware/authorization.middleware';
import { auditarAccion } from '@middleware/audit.middleware';
import { validate } from './dtos';
import { CreateAnioLectivoDTO, UpdateAnioLectivoDTO, CreateGradoDTO, UpdateGradoDTO, CreateAreaCurricularDTO, UpdateAreaCurricularDTO, } from './dtos';
import { aniosLectivosController } from './anios-lectivos.controller';
import { gradosController } from './grados.controller';
import { areasCurricularesController } from './areas-curriculares.controller';
import { curriculoController } from './curriculo.controller';
const router = Router();
router.use(authenticate);
router.get('/anios-lectivos', requirePermission(['CONFIG_VER']), aniosLectivosController.list.bind(aniosLectivosController));
router.post('/anios-lectivos', requirePermission(['CONFIG_EDITAR']), validate(CreateAnioLectivoDTO), auditarAccion('aniolectivo'), aniosLectivosController.create.bind(aniosLectivosController));
router.get('/anios-lectivos/:id', requirePermission(['CONFIG_VER']), aniosLectivosController.getById.bind(aniosLectivosController));
router.put('/anios-lectivos/:id', requirePermission(['CONFIG_EDITAR']), validate(UpdateAnioLectivoDTO), auditarAccion('aniolectivo', (req) => req.params.id), aniosLectivosController.update.bind(aniosLectivosController));
router.delete('/anios-lectivos/:id', requirePermission(['CONFIG_EDITAR']), auditarAccion('aniolectivo', (req) => req.params.id), aniosLectivosController.delete.bind(aniosLectivosController));
router.get('/grados', requirePermission(['CONFIG_VER']), gradosController.list.bind(gradosController));
router.post('/grados', requirePermission(['CONFIG_EDITAR']), validate(CreateGradoDTO), auditarAccion('grado'), gradosController.create.bind(gradosController));
router.get('/grados/:id', requirePermission(['CONFIG_VER']), gradosController.getById.bind(gradosController));
router.put('/grados/:id', requirePermission(['CONFIG_EDITAR']), validate(UpdateGradoDTO), auditarAccion('grado', (req) => req.params.id), gradosController.update.bind(gradosController));
router.delete('/grados/:id', requirePermission(['CONFIG_EDITAR']), auditarAccion('grado', (req) => req.params.id), gradosController.delete.bind(gradosController));
router.get('/areas-curriculares', requirePermission(['CONFIG_VER']), areasCurricularesController.list.bind(areasCurricularesController));
router.post('/areas-curriculares', requirePermission(['CONFIG_EDITAR']), validate(CreateAreaCurricularDTO), auditarAccion('areacurricular'), areasCurricularesController.create.bind(areasCurricularesController));
router.get('/areas-curriculares/:id', requirePermission(['CONFIG_VER']), areasCurricularesController.getById.bind(areasCurricularesController));
router.put('/areas-curriculares/:id', requirePermission(['CONFIG_EDITAR']), validate(UpdateAreaCurricularDTO), auditarAccion('areacurricular', (req) => req.params.id), areasCurricularesController.update.bind(areasCurricularesController));
router.delete('/areas-curriculares/:id', requirePermission(['CONFIG_EDITAR']), auditarAccion('areacurricular', (req) => req.params.id), areasCurricularesController.delete.bind(areasCurricularesController));
router.get('/curriculo/plantilla', requirePermission(['CONFIG_VER']), curriculoController.getPlantilla.bind(curriculoController));
router.post('/curriculo/asignar', requirePermission(['CONFIG_EDITAR']), auditarAccion('curriculogrado'), curriculoController.assignAreasToGrado.bind(curriculoController));
router.get('/curriculo/grado/:gradoId', requirePermission(['CONFIG_VER']), curriculoController.getByGrado.bind(curriculoController));
router.patch('/curriculo/:id/orden', requirePermission(['CONFIG_EDITAR']), auditarAccion('curriculogrado', (req) => req.params.id), curriculoController.updateOrden.bind(curriculoController));
router.delete('/curriculo/:id', requirePermission(['CONFIG_EDITAR']), auditarAccion('curriculogrado', (req) => req.params.id), curriculoController.removeArea.bind(curriculoController));
export default router;
//# sourceMappingURL=academico.routes.js.map